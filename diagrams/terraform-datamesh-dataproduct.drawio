<mxfile host="drawio-plugin" modified="2023-02-27T09:46:04.916Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.102 Safari/537.36" etag="vB2nn5nGECCcR42ec1ih" version="20.5.3" type="embed"><diagram id="DWjpSvbVxY2pOprUcE6g" name="Page-1"><mxGraphModel dx="1014" dy="1221" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="258" value="&lt;b&gt;Fullfillment&lt;/b&gt;&lt;br&gt;[Domain]" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=bottom;fontStyle=0;arcSize=6;" vertex="1" parent="1"><mxGeometry x="160" y="59" width="1935" height="555" as="geometry"/></mxCell><mxCell id="323" value="&lt;b&gt;shelf_warmers&lt;/b&gt;&lt;br&gt;[Data Product]" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;rounded=0;glass=0;fontFamily=Helvetica;fontSize=12;size=163.05882352941194;verticalAlign=bottom;fillColor=#FCFCFC;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1"><mxGeometry x="1334" y="95" width="740" height="449" as="geometry"/></mxCell><mxCell id="322" value="&lt;b&gt;stock_updated&lt;/b&gt;&lt;br&gt;[Raw Data Product]" style="shape=hexagon;perimeter=hexagonPerimeter2;whiteSpace=wrap;html=1;fixedSize=1;rounded=0;glass=0;fontFamily=Helvetica;fontSize=12;size=163.05882352941194;verticalAlign=bottom;fillColor=#FCFCFC;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1"><mxGeometry x="543" y="95" width="740" height="449" as="geometry"/></mxCell><mxCell id="263" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endArrow=none;endFill=0;" edge="1" parent="1" source="260" target="262"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="284" value="poll" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;" vertex="1" connectable="0" parent="263"><mxGeometry x="0.5952" y="3" relative="1" as="geometry"><mxPoint x="-120" y="-6" as="offset"/></mxGeometry></mxCell><mxCell id="260" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rotation=-90;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1"><mxGeometry x="405.25" y="230" width="60" height="153" as="geometry"/></mxCell><mxCell id="261" value="&lt;b&gt;stock&lt;/b&gt;&lt;br&gt;[Kafka Topic]" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1"><mxGeometry x="398" y="291.5" width="98" height="30" as="geometry"/></mxCell><mxCell id="265" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="262" target="271"><mxGeometry relative="1" as="geometry"><mxPoint x="965" y="306.5" as="targetPoint"/></mxGeometry></mxCell><mxCell id="283" value="store" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;" vertex="1" connectable="0" parent="265"><mxGeometry x="0.0516" y="4" relative="1" as="geometry"><mxPoint x="-1" y="-5" as="offset"/></mxGeometry></mxCell><mxCell id="262" value="&lt;b&gt;Topic to S3&lt;br&gt;&lt;/b&gt;[S3 Sink Connector for Confluent]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1"><mxGeometry x="834.12" y="276.5" width="160" height="60" as="geometry"/></mxCell><mxCell id="269" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="268" target="260"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="268" value="&lt;b style=&quot;font-size: 12px;&quot;&gt;Stock Service&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/b&gt;[Spring Boot]" style="rounded=1;whiteSpace=wrap;html=1;verticalAlign=middle;fontSize=12;fillColor=#E0E0E0;fontColor=#333333;strokeColor=#666666;" vertex="1" parent="1"><mxGeometry x="182" y="273" width="128" height="67" as="geometry"/></mxCell><mxCell id="271" value="&lt;b&gt;JSON Files&lt;br&gt;&lt;/b&gt;[AWS S3 Bucket]&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;s3://fulfillment-stock_updated&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="1048" y="276.5" width="141" height="60" as="geometry"/></mxCell><mxCell id="274" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=11;dashed=1;" edge="1" parent="1" source="273" target="271"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="282" value="describe" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;" vertex="1" connectable="0" parent="274"><mxGeometry x="-0.7437" y="-1" relative="1" as="geometry"><mxPoint x="2" y="-15" as="offset"/></mxGeometry></mxCell><mxCell id="273" value="&lt;font face=&quot;Helvetica&quot; style=&quot;font-size: 12px;&quot;&gt;&lt;b style=&quot;font-size: 12px;&quot;&gt;stock_updated&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/b&gt;[AWS Glue Catalog Table]&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Courier New;fontSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="1048" y="371" width="141" height="60" as="geometry"/></mxCell><mxCell id="275" value="&lt;b&gt;Discovery API&lt;br&gt;&lt;/b&gt;[Lambda Endpoint]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1"><mxGeometry x="834.12" y="113" width="160" height="60" as="geometry"/></mxCell><mxCell id="277" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=11;dashed=1;" edge="1" parent="1" target="275"><mxGeometry relative="1" as="geometry"><mxPoint x="913" y="-39" as="sourcePoint"/></mxGeometry></mxCell><mxCell id="278" value="GET https://example.com/datamesh/fulfillment/stock_updated/" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;" vertex="1" connectable="0" parent="277"><mxGeometry x="-0.4096" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="276" value="Data Product Inventory" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Helvetica;fontSize=11;" vertex="1" parent="1"><mxGeometry x="751" y="-100" width="1120" height="60" as="geometry"/></mxCell><mxCell id="280" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=11;dashed=1;startArrow=classic;startFill=1;endArrow=none;endFill=0;" edge="1" parent="1" source="279" target="273"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="281" value="use schema to define table" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;" vertex="1" connectable="0" parent="280"><mxGeometry x="-0.2437" relative="1" as="geometry"><mxPoint x="2" y="-11" as="offset"/></mxGeometry></mxCell><mxCell id="279" value="&lt;b&gt;stock_updated event&lt;br&gt;&lt;/b&gt;[JSON Schema]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1"><mxGeometry x="370.75" y="371" width="129" height="60" as="geometry"/></mxCell><mxCell id="297" value="&lt;b&gt;Discovery API&lt;br&gt;&lt;/b&gt;[Lambda Endpoint]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1"><mxGeometry x="1627" y="113" width="160" height="60" as="geometry"/></mxCell><mxCell id="299" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=11;startArrow=none;startFill=0;endArrow=classic;endFill=1;dashed=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="298" target="273"><mxGeometry relative="1" as="geometry"><Array as="points"><mxPoint x="1707" y="401"/></Array></mxGeometry></mxCell><mxCell id="300" value="use" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;" vertex="1" connectable="0" parent="299"><mxGeometry x="-0.4701" y="1" relative="1" as="geometry"><mxPoint x="-155" y="-11" as="offset"/></mxGeometry></mxCell><mxCell id="304" value="store" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontFamily=Helvetica;fontSize=11;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="298" target="302"><mxGeometry x="-0.0508" y="9" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="298" value="&lt;b&gt;SQL Query&lt;br&gt;&lt;/b&gt;[AWS Athena Query]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1"><mxGeometry x="1627" y="276.5" width="160" height="60" as="geometry"/></mxCell><mxCell id="303" value="describe" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontFamily=Helvetica;fontSize=11;startArrow=none;startFill=0;endArrow=classic;endFill=1;" edge="1" parent="1" source="301" target="302"><mxGeometry relative="1" as="geometry"/></mxCell><mxCell id="301" value="&lt;font face=&quot;Helvetica&quot; style=&quot;font-size: 12px;&quot;&gt;&lt;b style=&quot;font-size: 12px;&quot;&gt;self_warmers&lt;br style=&quot;font-size: 12px;&quot;&gt;&lt;/b&gt;[AWS Glue Catalog Table]&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Courier New;fontSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="1848.5" y="367" width="141" height="60" as="geometry"/></mxCell><mxCell id="302" value="&lt;b&gt;Parquet Files&lt;br&gt;&lt;/b&gt;[AWS S3 Bucket]&lt;br&gt;&lt;font style=&quot;font-size: 9px;&quot;&gt;s3://fulfillment-shelf_warmers&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1"><mxGeometry x="1846" y="276.5" width="141" height="60" as="geometry"/></mxCell><mxCell id="305" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;startArrow=classic;startFill=1;endArrow=none;endFill=0;" edge="1" parent="1" source="271" target="298"><mxGeometry relative="1" as="geometry"><mxPoint x="1185.9999999999995" y="276.5" as="sourcePoint"/><mxPoint x="1474.75" y="276.5" as="targetPoint"/></mxGeometry></mxCell><mxCell id="306" value="read" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;" vertex="1" connectable="0" parent="305"><mxGeometry x="0.5952" y="3" relative="1" as="geometry"><mxPoint x="-72" y="-5" as="offset"/></mxGeometry></mxCell><mxCell id="307" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontFamily=Helvetica;fontSize=11;exitX=0.835;exitY=0.983;exitDx=0;exitDy=0;exitPerimeter=0;dashed=1;" edge="1" parent="1" target="297"><mxGeometry relative="1" as="geometry"><mxPoint x="1707.875" y="-41.01999999999998" as="sourcePoint"/><mxPoint x="925.5000000000005" y="159" as="targetPoint"/></mxGeometry></mxCell><mxCell id="308" value="GET https://example.com/datamesh/fulfillment/shelf_warmers/" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;" vertex="1" connectable="0" parent="307"><mxGeometry x="-0.4096" relative="1" as="geometry"><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="309" value="&lt;font face=&quot;Helvetica&quot;&gt;&lt;b&gt;Allow Access&lt;br&gt;&lt;/b&gt;[AWS IAM Policy]&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Courier New;fontSize=11;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1"><mxGeometry x="832" y="445" width="160" height="60" as="geometry"/></mxCell><mxCell id="312" value="&lt;font face=&quot;Helvetica&quot;&gt;&lt;b&gt;Allow Access&lt;br&gt;&lt;/b&gt;[AWS IAM Policy]&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontFamily=Courier New;fontSize=11;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1"><mxGeometry x="1627" y="445" width="160" height="60" as="geometry"/></mxCell><mxCell id="313" value="&lt;b&gt;Run daily at midnight&lt;br&gt;&lt;/b&gt;[AWS EventBridge Scheduler]" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1"><mxGeometry x="1627" y="184" width="160" height="60" as="geometry"/></mxCell><mxCell id="324" value="" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;dashed=1;fontFamily=Helvetica;fontSize=11;startArrow=none;startFill=0;endArrow=classic;endFill=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="313" target="298"><mxGeometry relative="1" as="geometry"><mxPoint x="1663.516129032258" y="244" as="sourcePoint"/><mxPoint x="1636" y="737" as="targetPoint"/></mxGeometry></mxCell><mxCell id="325" value="trigger lambda" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=11;fontFamily=Helvetica;" vertex="1" connectable="0" parent="324"><mxGeometry x="-0.0265" y="-1" relative="1" as="geometry"><mxPoint y="1" as="offset"/></mxGeometry></mxCell><mxCell id="326" value="https://github.com/datamesh-architecture/terraform-datamesh-dataproduct-confluent-kafka-to-aws-s3" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;glass=0;fontFamily=Helvetica;fontSize=9;" vertex="1" parent="1"><mxGeometry x="704.62" y="537" width="419" height="30" as="geometry"/></mxCell><mxCell id="327" value="https://github.com/datamesh-architecture/terraform-datamesh-dataproduct-aws-athena" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;glass=0;fontFamily=Helvetica;fontSize=9;" vertex="1" parent="1"><mxGeometry x="1497.5" y="539" width="419" height="30" as="geometry"/></mxCell><mxCell id="328" value="Terraform Module" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;glass=0;fontFamily=Helvetica;fontSize=9;" vertex="1" parent="1"><mxGeometry x="702" y="97" width="60" height="30" as="geometry"/></mxCell><mxCell id="329" value="Terraform Module" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;glass=0;fontFamily=Helvetica;fontSize=9;" vertex="1" parent="1"><mxGeometry x="1494" y="97" width="60" height="30" as="geometry"/></mxCell></root></mxGraphModel></diagram></mxfile>